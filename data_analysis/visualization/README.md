# C题常用可视化脚本

## ✨ 特点

- ✅ **直接运行** - 每个脚本独立，不需要导入
- ✅ **中文注释** - 详细说明每个参数的含义和用法
- ✅ **高清输出** - 300 DPI，适合论文使用
- ✅ **O奖标准** - 符合美赛高分论文的制图要求

## 📁 文件说明

| 文件 | 功能 | 运行命令 |
|-----|------|---------|
| `折线图_时间序列.py` | 时间序列、趋势预测 | `python 折线图_时间序列.py` |
| `柱状图_分组对比.py` | 多模型性能对比 | `python 柱状图_分组对比.py` |
| `散点图_相关性分析.py` | 变量相关性分析 | `python 散点图_相关性分析.py` |
| `热力图_相关矩阵.py` | 特征相关性矩阵 | `python 热力图_相关矩阵.py` |
| `平行坐标图_高维数据.py` | 高维数据、客户分群 | `python 平行坐标图_高维数据.py` |

## 🚀 快速开始

### 1. 安装依赖
```bash
pip install matplotlib numpy pandas scipy seaborn scikit-learn
```

### 2. 运行脚本看效果
```bash
cd data_analysis/visualization
python 折线图_时间序列.py
```

### 3. 修改数据
打开脚本，找到 `生成示例数据` 部分，替换成你的数据：

```python
# ==================== 生成示例数据 ====================
x = np.array([...])  # ← 这里填入你的x数据
y = np.array([...])  # ← 这里填入你的y数据
```

### 4. 调整参数
所有参数都有中文注释说明：

```python
color='#2E86AB',  # 颜色（这里可以改成其他颜色）
linewidth=2,  # 线条粗细
marker='o',  # 标记样式（'o'圆点, 's'方块, '^'三角）
```

## 📊 各图表详细说明

### 1. 折线图_时间序列.py

**用途**：展示数据随时间变化的趋势，对比预测值与真实值

**包含功能**：
- 单条/多条折线对比
- 置信区间阴影（O奖加分项）
- 关键点标注（峰值、谷值）
- 多种线型和标记样式

**适用场景**：
- 用户行为趋势分析
- 销售/流量预测
- 模型预测效果展示

---

### 2. 柱状图_分组对比.py

**用途**：对比多个模型/方法在多个指标上的性能

**包含功能**：
- 分组柱状图
- 柱顶数值自动标注（O奖要点）
- 支持多达10个指标对比
- 专业配色方案

**适用场景**：
- 算法性能对比
- 方案评估
- 多维度指标对比

---

### 3. 散点图_相关性分析.py

**用途**：分析两个变量之间的相关关系

**包含功能**：
- 自动计算线性回归
- 显示R²和p值（O奖必备）
- 异常点标注
- 支持分类着色

**适用场景**：
- 特征相关性分析
- 用户画像研究
- 因素影响分析

---

### 4. 热力图_相关矩阵.py

**用途**：展示多个特征之间的相关性

**包含功能**：
- 自动计算相关系数矩阵
- 数值标注（O奖要点）
- 自动找出强相关特征对
- 支持上/下三角显示

**适用场景**：
- 特征选择
- 降维分析
- 变量筛选

---

### 5. 平行坐标图_高维数据.py

**用途**：高维数据可视化、客户分群展示

**包含功能**：
- 自动数据标准化
- 按类别着色
- 支持帕累托前沿可视化
- 统计信息输出

**适用场景**：
- 客户细分
- 多目标优化
- 聚类结果展示

---

## 💡 使用技巧

### 技巧1: 快速修改颜色

推荐配色（直接复制使用）：
```python
'#2E86AB'  # 专业蓝
'#F18F01'  # 活力橙
'#6A994E'  # 自然绿
'#A23B72'  # 典雅紫
'#C73E1D'  # 警示红
'#BC4B51'  # 深玫红
```

### 技巧2: 保存不同格式

```python
plt.savefig('图表.png', dpi=300, bbox_inches='tight')  # PNG格式
plt.savefig('图表.pdf', dpi=300, bbox_inches='tight')  # PDF格式（推荐）
plt.savefig('图表.svg', bbox_inches='tight')  # SVG格式（可编辑）
```

### 技巧3: 解决中文乱码

**Mac系统**：
```python
plt.rcParams['font.sans-serif'] = ['Arial Unicode MS']
```

**Windows系统**：
```python
plt.rcParams['font.sans-serif'] = ['SimHei']
```

### 技巧4: 调整图表大小

```python
fig, ax = plt.subplots(figsize=(12, 6), dpi=300)
#                               ↑宽  ↑高
```

常用尺寸：
- 单列图：`(10, 6)`
- 宽图：`(14, 6)`
- 方形图：`(10, 10)`
- 高图：`(8, 12)`

---

## 🎨 美赛O奖要点

### ✅ 5个必须做到的

1. **置信区间** - 预测图必须显示误差范围
2. **数值标注** - 柱状图在柱顶显示数值
3. **相关系数** - 散点图显示R²和p值
4. **数据标准化** - 热力图、平行坐标图标准化
5. **高分辨率** - 至少300 DPI

### ❌ 5个常见错误

1. ❌ 没有坐标轴标签和单位
2. ❌ 没有图例说明
3. ❌ 使用默认配色
4. ❌ 分辨率太低（<200 DPI）
5. ❌ 图表目的不明确

---

## 📝 数据格式要求

### 折线图
```python
x = [1, 2, 3, 4, 5]  # 列表或numpy数组
y = [10, 15, 13, 17, 20]
```

### 柱状图
```python
categories = ['A', 'B', 'C']
values = [0.85, 0.90, 0.82]
```

### 散点图
```python
x = [1, 2, 3, 4, 5]
y = [2, 4, 5, 8, 10]
```

### 热力图（需要DataFrame）
```python
import pandas as pd
data = pd.DataFrame({
    '特征1': [1, 2, 3],
    '特征2': [2, 3, 4],
    '特征3': [3, 4, 5]
})
```

---

## 🆘 常见问题

**Q: 运行报错 ModuleNotFoundError?**  
A: 安装缺失的库：`pip install matplotlib numpy pandas`

**Q: 中文显示方块或乱码?**  
A: 修改字体设置，参考"技巧3"

**Q: 如何修改图表标题?**  
A: 找到 `ax.set_title('...')` 这一行

**Q: 如何修改坐标轴范围?**  
A: 添加 `ax.set_xlim(0, 100)` 和 `ax.set_ylim(0, 100)`

**Q: 图例挡住数据怎么办?**  
A: 修改图例位置 `loc='upper right'` 或 `loc='best'`

---

## 📚 更多帮助

详细使用说明请查看：**使用说明.md**

**祝你在美赛中取得优异成绩！🏆**

